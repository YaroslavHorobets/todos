(this["webpackJsonphomework-2"]=this["webpackJsonphomework-2"]||[]).push([[0],{108:function(t,e,a){},109:function(t,e,a){},236:function(t,e,a){"use strict";a.r(e);var o=a(0),r=a.n(o),c=a(42),n=a.n(c),d=(a(108),a(109),a(26)),s=a(92),i=a.n(s),l=a(1);var u=function(){return Object(l.jsxs)("header",{className:i.a.headBar,children:[Object(l.jsx)(d.b,{exact:!0,to:"/todos",children:"Todos"}),Object(l.jsx)(d.b,{exact:!0,to:"/create-todo",children:"Create todo form"})]})},j=a(4),b=function(t){return Object(l.jsx)("button",{id:t.id,className:t.className,onClick:t.func,children:t.text})},m=a(24),h=a.n(m),p=function(t){var e=t.target,a=t.header,o=t.text,r=t.func,c=t.actions;return Object(l.jsx)("div",{id:e,className:h.a.modalWrapper,onClick:r,children:Object(l.jsxs)("div",{className:h.a.modal,children:[Object(l.jsx)("div",{className:h.a.modalHeader,children:Object(l.jsx)("h1",{className:h.a.modalTitle,children:a})}),o,Object(l.jsx)("div",{children:c})]})})},O=a(14),x=a(3),f=a(103),_=a(59),g=a.n(_),v=["field","form"],C=function(t){var e=t.field,a=t.form,o=Object(f.a)(t,v),r=e.name;return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",Object(x.a)(Object(x.a)({className:g.a.appInput},o),e)),a.touched[r]&&a.errors[r]&&Object(l.jsx)("div",{className:g.a.error,children:a.errors[r]})]})},y=a(21),w="todos/createPage/TOGGLE_MODAL",S="todos/createPage/CREATE_TODO",N={data:[],isShowModal:!1,target:null},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(x.a)(Object(x.a)({},t),{},{isShowModal:e.payload.bool,target:e.payload.target});case S:return Object(x.a)(Object(x.a)({},t),{},{data:e.payload});default:return t}},M={getTodos:function(){return function(t){return t.createPage.data}},isCardInTodos:function(t){return function(e){return!!e.createPage.data.find((function(e){return e.id===t}))}}},F={setIsModal:function(t){return{type:w,payload:t}},createTodo:function(t){return{type:S,payload:t}}},B=T,I=a(7),E=a(6),k="todos/todos/SET_TODOS",W="todos/todos/TOGGLE_MODAL",L="todos/todos/TOGGLE_FORM",P="todos/todos/TOGGLE_CARD",D={data:[],isShowModal:!1,isShowForm:!1,target:null,edCard:null},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:var a=t.data.map((function(t){return e.payload.find((function(e){return e.id===t.id}))||t}));return 0===t.data.length?Object(x.a)(Object(x.a)({},t),{},{data:e.payload}):Object(x.a)(Object(x.a)({},t),{},{data:a});case W:return Object(x.a)(Object(x.a)({},t),{},{isShowModal:e.payload.bool,target:e.payload.target});case L:return Object(x.a)(Object(x.a)({},t),{},{isShowForm:e.payload.bool,target:e.payload.target,edCard:e.payload.edCard});case P:var o=e.payload;if(o.id=t.data.length+1,t.data.find((function(t){return t.id===o.id&&o.title}))){var r=t.data.filter((function(t){return t.id!==o.id}));return Object(x.a)(Object(x.a)({},t),{},{data:r})}var c=[].concat(Object(E.a)(t.data),[o]);return Object(x.a)(Object(x.a)({},t),{},{data:c});default:return t}},A={getTodos:function(){return function(t){return t.todos.data}}},H=function(t){return{type:k,payload:t}},R=a(100),q=a.n(R),Y={toggleCard:function(t){return{type:P,payload:t}},setIsModal:function(t){return{type:W,payload:t}},fetchTodos:function(){return function(t){q()("https://my-json-server.typicode.com/YaroslavHorobets/todos/cards").then((function(e){t(H(e.data))}))}},setIsForm:function(t){return{type:L,payload:t}},setTodos:H},z=G,J=y.a().shape({title:y.b().required("This field is required").min(2,"Enter min 2 characters").max(20,"Maximum 20 characters"),description:y.b().min(2,"Enter min 2 characters").max(100,"Maximum characters is 100")}),V=function(t){var e=t.__testFunc__,a=t.isShowModal,o=t.className,r=t.submitBtnClass,c=Object(I.d)(A.getTodos()),n=Object(I.c)();return Object(l.jsx)(O.c,{initialValues:{title:"",description:""},onSubmit:e||function(t,e){!function(t,e){t.id=c.length+1,n(F.createTodo(t)),e.resetForm()}(t,e),n(F.setIsModal({bool:!a}))},validationSchema:J,children:function(t){return Object(l.jsxs)(O.b,{className:o,children:[Object(l.jsx)("h3",{children:"Create task"}),Object(l.jsx)("div",{children:Object(l.jsx)(O.a,{component:C,name:"title",type:"text",placeholder:"Title"})}),Object(l.jsx)("div",{children:Object(l.jsx)(O.a,{component:C,name:"description",type:"text",placeholder:"Description"})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:r,type:"submit",children:"Checkout"})})]})}})},K=a(29),U=a.n(K),Z=a(46),Q=a.n(Z);var X=Object(I.b)((function(t){return{isShowModal:t.createPage.isShowModal,target:t.createPage.target,order:t.createPage.order}}),null)((function(t){var e=Object(I.d)(M.getTodos()),a=Object(I.c)(),o=function(e){a(F.setIsModal({bool:!t.isShowModal,target:Number(e.target.id)}))},r=[Object(l.jsx)(b,{id:t.target,className:U.a.okButton,text:"Ok",func:function(){a(Y.toggleCard(e)),a(F.createTodo([]))}},"okbtn"),Object(l.jsx)(b,{className:U.a.cancelButton,text:"Cancel",func:o},"cncbtn")];return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:Q.a.createWrapper,children:Object(l.jsx)(V,{className:Q.a.createForm,submitBtnClass:Q.a.createSubmit,isShowModal:t.isShowModal})}),t.isShowModal?Object(l.jsx)(p,{func:o,header:"Are you sure you want to add this card to your todos list?",text:Object(l.jsx)("p",{className:h.a.modalText,children:"This card will be addet to your todos list."}),actions:r}):null]})})),$=a(30),tt=a.n($),et=function(t){return Object(l.jsxs)("svg",{id:t.id,onClick:t.func,className:t.className,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(l.jsx)("path",{id:t.id,d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(l.jsx)("path",{id:t.id,d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})},at=function(t){return Object(l.jsxs)("div",{className:tt.a.cardWrapper,children:[t.delIcon?Object(l.jsx)(et,{id:t.card.id,className:tt.a.delIcon,func:t.delCard}):null,Object(l.jsxs)("div",{onClick:function(t){"div"===t.target.localName&&t.target.classList.toggle(tt.a.active)},id:t.id,className:tt.a.todoCard,children:[Object(l.jsx)("h3",{children:t.card.title}),Object(l.jsx)("p",{children:t.card.description}),t.isBtn?Object(l.jsx)(b,{id:t.card.id,text:"Edit",className:tt.a.cardButton,func:t.editFunc}):null]})]})},ot=a(31),rt=a.n(ot),ct=y.a().shape({title:y.b().required("This field is required").min(2,"Enter min 2 characters").max(20,"Maximum 20 characters"),description:y.b().min(2,"Enter min 2 characters").max(100,"Maximum characters is 100")}),nt=function(t){var e=t.isShowForm,a=t.card,o=Object(I.c)(),r=function(){o(Y.setIsForm({bool:!e}))};return Object(l.jsx)(O.c,{initialValues:{title:"".concat(a.title),description:"".concat(a.description)},onSubmit:function(t,r){var c=Object(x.a)({id:a.id},t);o(Y.setTodos([c])),o(Y.setIsForm({bool:!e})),r.resetForm()},validationSchema:ct,children:function(t){return Object(l.jsx)("div",{className:rt.a.formWrapper,children:Object(l.jsx)(O.b,{className:rt.a.editForm,children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Edit task"}),Object(l.jsx)(O.a,{component:C,name:"title",type:"text",placeholder:"Title"}),Object(l.jsx)(O.a,{component:C,name:"description",type:"text",placeholder:"Description"}),Object(l.jsxs)("div",{className:rt.a.btnsWrap,children:[Object(l.jsx)("button",{className:rt.a.editSubmit,type:"submit",children:"Done"}),Object(l.jsx)("button",{onClick:r,className:rt.a.editSubmit,type:"reset",children:"Cancel"})]})]})})})}})},dt=a(61),st=a.n(dt),it=Object(I.b)((function(t){return{isShowModal:t.todos.isShowModal,isShowForm:t.todos.isShowForm,target:t.todos.target,edCard:t.todos.edCard}}),null)((function(t){var e=Object(I.d)(A.getTodos()),a=Object(I.c)();Object(o.useEffect)((function(){return 0===e.length?a(Y.fetchTodos()):null}),[a]);var r=function(e){a(Y.setIsModal({bool:!t.isShowModal,target:Number(e.target.id)}))},c=function(o){var r=e.find((function(t){return t.id===Number(o.target.id)?t:null}));a(Y.setIsForm({bool:!t.isShowForm,target:Number(o.target.id),edCard:r}))},n=[Object(l.jsx)(b,{id:t.target,className:U.a.okButton,text:"Ok",func:function(){e.map((function(e){return e.id===t.target?a(Y.toggleCard(e)):null}))}},"okbtn"),Object(l.jsx)(b,{className:U.a.cancelButton,text:"Cancel",func:r},"cncbtn")],d=e.map((function(t){return Object(l.jsx)(at,{id:t.id,card:t,editFunc:c,delCard:r,delIcon:!0,isBtn:!0},t.id)}));return Object(l.jsxs)("div",{className:st.a.todosWrapper,children:[0!==d.length?Object(l.jsx)("div",{className:st.a.todosCards,children:d}):Object(l.jsx)("p",{children:"Your todos list are still empty or loading..."}),t.isShowModal?Object(l.jsx)(p,{target:t.target,func:r,header:"Are you sure you want to delete this card from todos list?",text:Object(l.jsx)("p",{className:"modal-text",children:"This card will be deleted from your todos list."}),actions:n}):null,t.isShowForm?Object(l.jsx)(nt,{isShowForm:t.isShowForm,card:t.edCard}):null]})}));var lt=function(){return Object(l.jsxs)(j.d,{children:[Object(l.jsx)(j.a,{exact:!0,from:"/",to:"/todos"}),Object(l.jsx)(j.b,{exact:!0,path:"/todos",children:Object(l.jsx)(it,{})}),Object(l.jsx)(j.b,{exact:!0,path:"/create-todo",children:Object(l.jsx)(X,{})})]})},ut=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),Object(l.jsx)(lt,{})]})},jt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,237)).then((function(e){var a=e.getCLS,o=e.getFID,r=e.getFCP,c=e.getLCP,n=e.getTTFB;a(t),o(t),r(t),c(t),n(t)}))},bt=a(28),mt=a(101),ht=a(102),pt=Object(bt.combineReducers)({todos:z,createPage:B}),Ot=Object(bt.createStore)(pt,Object(mt.composeWithDevTools)(Object(bt.applyMiddleware)(ht.a)));n.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(I.a,{store:Ot,children:Object(l.jsx)(ut,{})})})}),document.getElementById("root")),jt()},24:function(t,e,a){t.exports={modalWrapper:"Modal_modalWrapper__2CUgz",modalHeader:"Modal_modalHeader__20xqE",modal:"Modal_modal__1vwov",modalTitle:"Modal_modalTitle__3HRsZ",modalText:"Modal_modalText__XjJ4B"}},29:function(t,e,a){t.exports={okButton:"Button_okButton__221V8",cancelButton:"Button_cancelButton__pUlt_"}},30:function(t,e,a){t.exports={cardWrapper:"Card_cardWrapper__1bF7R",todoCard:"Card_todoCard__1tqK1",active:"Card_active__w5w5S",cardButton:"Card_cardButton__1ITDK",delIcon:"Card_delIcon__1ixKl"}},31:function(t,e,a){t.exports={editForm:"EditForm_editForm__2_UH7",formWrapper:"EditForm_formWrapper__t5sls",editSubmit:"EditForm_editSubmit__1EeYy",btnsWrap:"EditForm_btnsWrap__tRYZE"}},46:function(t,e,a){t.exports={createWrapper:"CreatePage_createWrapper__2yYJf",createForm:"CreatePage_createForm__2N53i",createSubmit:"CreatePage_createSubmit__3iIiQ"}},59:function(t,e,a){t.exports={appInput:"Input_appInput__3s4Pc",error:"Input_error__HOCjV"}},61:function(t,e,a){t.exports={todosWrapper:"Todos_todosWrapper__1pWG4",todosCards:"Todos_todosCards__3GBj-"}},92:function(t,e,a){t.exports={headBar:"Header_headBar__3t8Lg"}}},[[236,1,2]]]);
//# sourceMappingURL=main.6bc32e97.chunk.js.map